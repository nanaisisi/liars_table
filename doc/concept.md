# Liar's Table - ゲーム仕様書（第 2 版）

## ゲーム概要

「Liar's Table」は、**実際のトランプカード**を使用したロシアンルーレット要素を含む心理戦カードゲームです。
この CLI ツールは、物理的なカードゲームの**補助ツール**として機能し、公平なロシアンルーレット判定とゲーム進この CLI ツールは物理的なトランプゲームの補助として以下を提供：

1. **プレイヤー管理**: カスタム名前設定と管理
2. **装弾設定**: ロシアンルーレットの確率調整
3. **公平な判定**: 品質の高い乱数による結果決定
4. **多言語対応**: 国際的な利用への対応

## 設計方針（実用性重視）

### 品質とシンプルさのバランス

- **乱数品質**: 標準的な乱数生成器で十分な品質確保
- **入力堅牢性**: 不正入力でクラッシュしない設計
- **ユーザビリティ**: 直感的な対話式インターフェース

### セキュリティの適切なレベル

- 暗号学的強度は不要（ローカル用途）
- 統計的品質の確保（偏りのない乱数）
- 適切な入力検証とエラーハンドリング

## 拡張可能性

### 将来的な機能追加案

- **統計機能**: 勝率や傾向の分析
- **設定プリセット**: 異なるゲームモードの保存
- **ゲーム履歴**: プレイ記録の保存と参照
- **カスタムルール**: 特殊ルールの実装# 重要な設計変更点

**従来の設計**：プログラムがカード配布・手札管理を行う
**新しい設計**：実際のトランプを使用し、プログラムは判定のみを担当

## 使用カード（物理的なトランプ）

- **ACE**: 4 枚
- **QUEEN**: 4 枚
- **KING**: 4 枚
- **JOKER**: 4 枚
- **合計**: 16 枚

**注意**: カードの配布・管理は実際のプレイヤーが行います。

## 基本ルール

### 1. ゲーム準備

- 参加人数：2-3 人
- 実際のトランプカードを使用してシャッフル・配布
- 各プレイヤーに 5 枚ずつ配布（実際に配る）
- CLI ツールでプレイヤー名を設定

### 2. ゲーム進行

#### ターン制

1. 現在のプレイヤーが実際の手札から 1 枚以上を伏せて場に出す
2. 出すカードの種類を宣言する（ACE、QUEEN、KING のいずれか）
3. 次のプレイヤーが「Liar」かどうかを判断

#### 宣言ルール

- 宣言できるのは ACE、QUEEN、KING のみ
- 実際に出すカードは以下のいずれかでなければならない：
  - 宣言した種類のカード
  - JOKER（万能カード）

#### Liar 判定

**次のプレイヤーの選択**:

- **Accept**: 宣言を信じる → ゲーム続行
- **Challenge**: 「Liar」だと指摘 → カード公開

**Challenge 結果**:

- **指摘が正解**（実際に嘘だった）: 出した人がロシアンルーレット
- **指摘が間違い**（実際に正しかった）: 指摘した人がロシアンルーレット

### 3. ロシアンルーレット（簡素化仕様）

#### 新しい用語定義

- **装弾数**: シリンダーの容量（標準 6 発、設定可能）
- **実弾数**: 危険な弾の数（**1 発固定**）
- **安全確率**: (装弾数-実弾数)/装弾数

#### 設定

- **実弾数**: 1 発（固定、変更不可）
- **装弾数**: 6 発（標準）、1-12 発で設定可能
- **標準確率**: 1/6 ≈ 16.7%

#### 実行フロー

1. 1 から装弾数の数字をランダム生成
2. 実弾位置（1 発）と一致した場合「アウト」
3. 外れた場合「セーフ」

#### 確率例

```
装弾数6発: 1/6 ≈ 16.7% (標準)
装弾数8発: 1/8 = 12.5% (安全)
装弾数4発: 1/4 = 25.0% (危険)
```

#### ペナルティ

- **アウト**: そのプレイヤーの敗北（ゲームから除外）
- **セーフ**: ゲーム続行

## プレイヤー管理（新機能）

### プレイヤー設定

- 起動時にプレイヤー名をカスタム設定
- プレイヤー番号（1-3）と名前の紐づけ
- ゲーム中の名前変更機能

### 設定例

```
プレイヤー設定：
1: 太郎
2: 花子
3: 次郎

現在のターン: 太郎
```

## 多言語対応（新機能）

### 対応言語

- 日本語（標準）
- 英語
- その他（TOML 設定で追加可能）

### 言語切り替え

- 起動時に言語選択
- 設定ファイルで保存
- ゲーム中の言語変更機能

## 勝利条件

- 最後まで残ったプレイヤーの勝利
- 全員がセーフの場合、実際の手札を最初に無くしたプレイヤーの勝利（物理的に確認）

## 戦略要素

### 心理戦

- 相手の表情や行動から嘘を見抜く
- 自分の嘘がバレないよう演技する

### 確率計算

- 残りカードの推測
- ロシアンルーレットのリスク評価

### 手札管理

- JOKER の効果的な使用タイミング
- 宣言する種類の選択

## ゲームバランス

### JOKER の重要性

- 万能カードとして任意の宣言に使用可能
- 所持数が戦略に大きく影響

### 装弾数による難易度調整

- 装弾数 1: 低リスク（約 16.7%）
- 装弾数 2: 中リスク（約 33.3%）
- 装弾数 3: 高リスク（50%）

### フェアプレイ原則

- 暗号学的に安全な乱数使用
- 全プレイヤーに平等な条件
- 透明性のある判定システム

## CLI ツールの役割

この CLI ツールは物理的なトランプゲームの補助として以下を提供：

1. **手札管理**: 各プレイヤーの配られたカードの記録
2. **装弾設定**: ロシアンルーレットの危険度設定
3. **公平な判定**: 人間の主観を排した乱数による結果決定
4. **ゲーム記録**: 勝敗やゲーム進行の記録

## 拡張可能性

### 将来的な機能追加案

- **統計機能**: 勝率や傾向の分析
- **ネットワーク対戦**: リモートプレイヤーとの対戦
- **AI 対戦**: コンピュータとの練習モード
- **トーナメント機能**: 複数ゲームの管理
